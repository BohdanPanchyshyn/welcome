{"ast":null,"code":"import _defineProperty from\"C:/Users/Sage/Desktop/CURSOR/cursor-homework-bohdan-panchyshyn/React_4/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Sage/Desktop/CURSOR/cursor-homework-bohdan-panchyshyn/React_4/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Sage/Desktop/CURSOR/cursor-homework-bohdan-panchyshyn/React_4/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import\"../stylePages.css\";import FormSignIn from'../../components/FormSignIn';import{dataSignIn}from'../../data/dataSignIn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),rememberUser=_useState4[0],setRememberUser=_useState4[1];var users=JSON.parse(localStorage.getItem(\"users\"));var savedUser=JSON.parse(localStorage.getItem(\"savedUser\"));var searchLoginUser=users===null||users===void 0?void 0:users.some(function(el){return el.email===values.email&&el.password===values.password;});var handleSubmit=function handleSubmit(e){e.preventDefault();var login=users===null||users===void 0?void 0:users.some(function(el){return el.email===values.email;});var password=users===null||users===void 0?void 0:users.some(function(el){return el.password===values.password;});if(!login)alert(\"User does not exist.\");else if(!password)alert(\"Incorect password.\");else if(login&&password&&rememberUser)localStorage.setItem(\"savedUser\",JSON.stringify(values),navigate(\"/succesfull\"));else if(login&&password)navigate(\"/succesfull\");};useEffect(function(){if(savedUser){setValues(savedUser);}},[]);var onChange=function onChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(\"div\",{className:\"signIn\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"formSignIn\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1SignIn\",children:\"Sign In\"}),dataSignIn.map(function(input){return/*#__PURE__*/_jsx(FormSignIn,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"blockCheckSignIn\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){return setRememberUser(!rememberUser);},defaultChecked:rememberUser}),/*#__PURE__*/_jsx(\"p\",{className:\"rememberMeSignIn\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"buttonSignIn\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"LinkSignIn\",children:\"Don't have an account? Sign Up\"})]})});};export default SignIn;","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","FormSignIn","dataSignIn","SignIn","navigate","email","password","values","setValues","rememberUser","setRememberUser","users","JSON","parse","localStorage","getItem","savedUser","searchLoginUser","some","el","handleSubmit","e","preventDefault","login","alert","setItem","stringify","onChange","target","name","value","map","input","id"],"sources":["C:/Users/Sage/Desktop/CURSOR/cursor-homework-bohdan-panchyshyn/React_4/my-app/src/pages/signIn/signIn.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport \"../stylePages.css\";\r\nimport FormSignIn from '../../components/FormSignIn';\r\nimport { dataSignIn } from '../../data/dataSignIn';\r\n\r\nconst SignIn = () => {\r\n\r\n   const navigate = useNavigate();\r\n\r\n   const [values, setValues] = useState({\r\n      email: \"\",\r\n      password: \"\",\r\n   });\r\n\r\n   const [rememberUser, setRememberUser] = useState(false);\r\n\r\n   const users = JSON.parse(localStorage.getItem(\"users\"));\r\n   const savedUser = JSON.parse(localStorage.getItem(\"savedUser\"));\r\n\r\n\r\n   const searchLoginUser = users?.some(el => el.email === values.email && el.password === values.password);\r\n\r\n\r\n\r\n   const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      const login = users?.some(el => el.email === values.email);\r\n      const password = users?.some(el => el.password === values.password);\r\n      if (!login) alert(\"User does not exist.\");\r\n      else if (!password) alert(\"Incorect password.\");\r\n      else if (login && password && rememberUser) localStorage.setItem(\"savedUser\", JSON.stringify(values), navigate(\"/succesfull\"));\r\n      else if (login && password) navigate(\"/succesfull\");\r\n   }\r\n\r\n   useEffect(() => {\r\n      if (savedUser) {\r\n         setValues(savedUser);\r\n      }\r\n   }, []);\r\n\r\n\r\n   const onChange = (e) => {\r\n      setValues({ ...values, [e.target.name]: e.target.value });\r\n   }\r\n   return (\r\n      <div className=\"signIn\">\r\n         <form onSubmit={handleSubmit} className=\"formSignIn\">\r\n            <h1 className='h1SignIn'>Sign In</h1>\r\n            {dataSignIn.map((input) => (\r\n               <FormSignIn key={input.id} {...input} value={values[input.name]} onChange={onChange} />\r\n            ))}\r\n            <div className='blockCheckSignIn'>\r\n               <input type=\"checkbox\" onChange={() => setRememberUser(!rememberUser)} defaultChecked={rememberUser} />\r\n               <p className='rememberMeSignIn'>Remember me</p>\r\n            </div>\r\n            <button type=\"submit\" className='buttonSignIn'>Submit</button>\r\n            <Link to=\"/register\" className='LinkSignIn'>Don't have an account? Sign Up</Link>\r\n         </form>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default SignIn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}